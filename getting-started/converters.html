<!doctype html>
<html lang="en">

<head>
    <title>Using other reactive programming libraries</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Learn how to integrate Mutiny with RX Java or Reactor">

    <link rel="canonical" href="/getting-started/converters.html">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.1/styles/default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/components/icon.min.css" integrity="sha512-8Tb+T7SKUFQWOPIQCaLDWWe1K/SY8hvHl7brOH8Nz5z1VT8fnf8B+9neoUzmFY3OzkWMMs3OjrwZALgB1oXFBg==" crossorigin="anonymous" />
    <link rel="shortcut icon" type="image/png" href="/mutiny-doc-sandbox/assets/images/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/mutiny-doc-sandbox/assets/css/main.css" />
<!--    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">-->
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
<!--    <script src="https://kit.fontawesome.com/630fce6bad.js" crossorigin="anonymous"></script>-->
</head>

<body>

    <div class="container-fluid global-container ">
        <main>
            <header class="header">
    <div class="container header-container">
        <div class="row">
            <div class="col-5">
                <a class="brand" href="/mutiny-doc-sandbox/index.html"><strong>Mutiny!</strong></a>
            </div>
            <div class="col-7">
                <nav id="nav" class="nav nav-masthead justify-content-right">
                    <a class="nav-link active" href="/mutiny-doc-sandbox/index.html">Home</a>
                    <a class="nav-link" href="/mutiny-doc-sandbox/getting-started/getting-started">Getting Started</a>
                    <a class="nav-link" href="/mutiny-doc-sandbox/guides">Guides</a>
                    <a href="https://github.com/smallrye/smallrye-mutiny" target="_blank" title="Github"><i class="lab la-github la-2x"></i></a>
                    <a href="https://stackoverflow.com/questions/tagged/mutiny" target="_blank" title="Stack Overflow"><i class="lab la-stack-overflow la-2x"></i></a>
                </nav>
            </div>
        </div>
    </div>
</header>
            <div class="content">
                <section class="hero gs">
    <div class="hero-main container">
        <div class="row">
            <div class="hero-left col-12">
                <div class="hero-slogan">
                    <h1 class="hero-name">Using other reactive programming libraries</h1>
                </div>
                <div class="hero-desc">
                    Learn how to integrate Mutiny with RX Java or Reactor
                </div>
                <div class="hero-buttons">
                    
                    <a href="/mutiny-doc-sandbox/getting-started/collecting-items" class="btn btn-rounded button button-dark button-rounded">
                        <i class="las la-arrow-left left"></i>&nbsp;Collecting items from Multi</a>
                     
                    <a href="/mutiny-doc-sandbox/getting-started/reactive-to-imperative" class="btn btn-rounded button button-dark button-rounded">
                From reactive to imperative&nbsp;<i class="las la-arrow-right"></i></a> 
                </div>
            </div>
        </div>
    </div>
</section>

<div class="container page-content">
    <div class="row">
        <div class="col-md-9 content">
            <div class="sect1">
<h2 id="integrating-others-reactive-libraries"><a class="anchor" href="#integrating-others-reactive-libraries"></a>Integrating others reactive libraries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may need to integrate libraries exposing an API using other reactive programming libraries such as RX Java or Reactor.
Mutiny has a built-in conversion mechanism to ease that integration.</p>
</div>
<div class="sect2">
<h3 id="picking-the-right-dependency"><a class="anchor" href="#picking-the-right-dependency"></a>Picking the right dependency</h3>
<div class="paragraph">
<p>The conversions are implemented in different artifacts:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;!-- Mutiny &lt;-&gt; Reactor --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;
  &lt;artifactId&gt;mutiny-reactor&lt;/artifactId&gt;
  &lt;version&gt;0.11.0&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- Mutiny &lt;-&gt; RX Java --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.smallrye.reactive&lt;/groupId&gt;
  &lt;artifactId&gt;mutiny-rxjava&lt;/artifactId&gt;
  &lt;version&gt;0.11.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="integration-with-project-reactor"><a class="anchor" href="#integration-with-project-reactor"></a>Integration with Project Reactor</h3>
<div class="paragraph">
<p>Project Reactor is a popular reactive programming library.
It offers two types: <code>Mono</code> and <code>Flux,</code> both implementing Reactive Stream <code>Publisher</code>.</p>
</div>
<div class="paragraph">
<p>To use the Reactor &lt;&#8594; Mutiny converter, add the following imports to your class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import io.smallrye.mutiny.converters.multi.MultiReactorConverters;
import io.smallrye.mutiny.converters.uni.UniReactorConverters;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-flux-or-a-mono-into-a-multi"><a class="anchor" href="#converting-a-flux-or-a-mono-into-a-multi"></a>Converting a Flux or a Mono into a Multi</h4>
<div class="paragraph">
<p>Both <code>Flux</code> and <code>Mono</code> implement <code>Publisher</code> so the conversion is based on the Reactive Streams interoperability:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Multi&lt;T&gt; multiFromFlux = Multi.createFrom().publisher(flux);
Multi&lt;T&gt; multiFromMono = Multi.createFrom().publisher(mono);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-flux-or-a-mono-into-a-uni"><a class="anchor" href="#converting-a-flux-or-a-mono-into-a-uni"></a>Converting a Flux or a Mono into a Uni</h4>
<div class="paragraph">
<p>As you can create <code>Uni</code> from a <code>Publisher</code> the same approach can be used to create <code>Uni</code> instances:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Uni&lt;T&gt; uniFromFlux = Uni.createFrom().publisher(flux);
Uni&lt;T&gt; uniFromMono = Uni.createFrom().publisher(mono);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>Flux</code> or <code>Mono</code> sends the <em>completion</em> event before an item event (because it&#8217;s empty), the <code>Uni</code> emits a <code>null</code> item.
For <code>Flux,</code> the <code>Uni</code> emits the first item and cancels the <code>Flux</code> subscription after that emission.</p>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-multi-into-a-flux-or-mono"><a class="anchor" href="#converting-a-multi-into-a-flux-or-mono"></a>Converting a Multi into a Flux or Mono</h4>
<div class="paragraph">
<p>As for the opposite direction, the conversion relies on Reactive Streams:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Flux&lt;T&gt; flux = Flux.from(multi);
Mono&lt;T&gt; mono = Mono.from(multi);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-uni-into-a-flux-or-mono"><a class="anchor" href="#converting-a-uni-into-a-flux-or-mono"></a>Converting a Uni into a Flux or Mono</h4>
<div class="paragraph">
<p>Converting a <code>Uni</code> into a <code>Flux</code> or a <code>Mono</code> requires a converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Mono&lt;T&gt; mono = uni.convert().with(UniReactorConverters.toMono());
Flux&lt;T&gt; flux = uni.convert().with(UniReactorConverters.toFlux());</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>Uni</code> emits <code>null</code>, it sends the <em>completion</em> event.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="integration-with-rx-java"><a class="anchor" href="#integration-with-rx-java"></a>Integration with RX Java</h3>
<div class="paragraph">
<p>RxJava is another reactive programming library.
It offers 5 types: <code>Completable</code> (no item), <code>Single</code> (one item), <code>Maybe</code> (0 or 1 item), <code>Observable</code> (multiple items), <code>Flowable</code> (multiple items, implements Reactive Stream <code>Publisher</code>).</p>
</div>
<div class="paragraph">
<p>To use the RxJava &lt;&#8594; Mutiny converter, add the following imports to your class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">import io.smallrye.mutiny.converters.multi.MultiRxConverters;
import io.smallrye.mutiny.converters.uni.UniRxConverters;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="converting-an-observable-or-a-flowable-into-a-multi"><a class="anchor" href="#converting-an-observable-or-a-flowable-into-a-multi"></a>Converting an Observable or a Flowable into a Multi</h4>
<div class="paragraph">
<p>Both <code>Observable</code> and <code>Flowable</code> are item streams.
However, <code>Observable</code> does not implement <code>Publisher</code> and so does not have back-pressure support.</p>
</div>
<div class="paragraph">
<p>To create <code>Multi</code> from an <code>Observable,</code> you need a specific converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Multi&lt;T&gt; multiFromObservable = Multi.createFrom().converter(
  MultiRxConverters.fromObservable(), observable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converting a <code>Flowable</code> is easier as it&#8217;s a <code>Publisher</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Multi&lt;T&gt; multi = Multi.createFrom().publisher(flowable);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-completable-single-or-maybe-into-a-multi"><a class="anchor" href="#converting-a-completable-single-or-maybe-into-a-multi"></a>Converting a Completable, Single or Maybe into a Multi</h4>
<div class="paragraph">
<p>To create a <code>Multi</code> from a <code>Completable,</code> <code>Single</code> or <code>Maybe</code> you need a specific converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Multi&lt;Void&gt; multiFromCompletable = Multi.createFrom()
  .converter(MultiRxConverters.fromCompletable(), completable);

Multi&lt;T&gt; multiFromSingle = Multi.createFrom().converter(MultiRxConverters.fromSingle(), single);

Multi&lt;T&gt; multiFromMaybe = Multi.createFrom().converter(MultiRxConverters.fromMaybe(), maybe);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating a <code>Multi</code> from a <code>Completable</code> always produces a <code>Multi&lt;Void&gt;</code> that only emits the <em>completion</em> or <em>failure</em> event.</p>
</li>
<li>
<p>Creating a <code>Multi</code> from a <code>Single</code> produces a <code>Multi</code> that emits the item and then completes it.</p>
</li>
<li>
<p>Creating a <code>Multi</code> from a <code>Maybe</code> produces a <code>Multi</code> that emits the item (if any) and then completes it.
If the <code>Maybe</code> is empty, then the created <code>Multi</code> emits the <em>completion</em> event.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When <code>Completable,</code> <code>Single,</code> or <code>Maybe</code> emit a failure, then that failure is emitted by the created <code>Multi</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="converting-an-observable-or-a-flowable-into-a-uni"><a class="anchor" href="#converting-an-observable-or-a-flowable-into-a-uni"></a>Converting an Observable or a Flowable into a Uni</h4>
<div class="paragraph">
<p>To create a <code>Uni</code> from an <code>Observable,</code> you need to use a specific converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Uni&lt;T&gt; uniFromObservable = Uni.createFrom().converter(UniRxConverters.fromObservable(), observable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The creation from a <code>Flowable</code> can be done using the Reactive Streams interoperability:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Uni&lt;T&gt; uniFromFlowable = Uni.createFrom().publisher(flowable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In both cases, it cancels the subscription to the <code>Flowable</code> or <code>Observable</code> after receiving the first item.
If the <code>Flowable</code> or <code>Observable</code> completes without items, the <code>Uni</code> emits a <code>null</code> item.</p>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-completable-single-or-maybe-into-a-uni"><a class="anchor" href="#converting-a-completable-single-or-maybe-into-a-uni"></a>Converting a Completable, Single or Maybe into a Uni</h4>
<div class="paragraph">
<p>To create a <code>Uni</code> from a <code>Completable,</code> <code>Single,</code> or <code>Maybe</code>, you need to use a specific converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Uni&lt;Void&gt; uniFromCompletable = Uni.createFrom().converter(UniRxConverters.fromCompletable(), completable);

Uni&lt;T&gt; uniFromSingle = Uni.createFrom().converter(UniRxConverters.fromSingle(), single);

Uni&lt;T&gt; uniFromMaybe = Uni.createFrom().converter(UniRxConverters.fromMaybe(), maybe);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converting a <code>Completable</code> to a <code>Uni</code> always produces a <code>Uni&lt;Void&gt;,</code> that emits either <code>null</code> once the <code>Completable</code> completes or the failure if it fails.
The <code>Maybe</code> to <code>Uni</code> conversion emits a <code>null</code> item if the <code>Maybe</code> completes without an item.</p>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-multi-into-a-rx-java-objects"><a class="anchor" href="#converting-a-multi-into-a-rx-java-objects"></a>Converting a Multi into a RX Java objects</h4>
<div class="paragraph">
<p>The conversion from a <code>Multi</code> to the various RX Java objects is done using converters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Completable completable = multi.convert().with(MultiRxConverters.toCompletable());

Single&lt;Optional&lt;T&gt;&gt; single = multi.convert().with(MultiRxConverters.toSingle());

Single&lt;T&gt; single2 = multi.convert().with(MultiRxConverters
  .toSingle().onEmptyThrow(() -&gt; new Exception("D'oh!")));

Maybe&lt;T&gt; maybe = multi.convert().with(MultiRxConverters.toMaybe());

Observable&lt;T&gt; observable = multi.convert().with(MultiRxConverters.toObservable());

Flowable&lt;T&gt; flowable = multi.convert().with(MultiRxConverters.toFlowable());</code></pre>
</div>
</div>
<div class="paragraph">
<p>The creation of a <code>Completable</code> from a <code>Multi</code> discards all the items emitted by the <code>Multi</code>.
It forwards the <em>completion</em> or <em>failure</em> event.</p>
</div>
<div class="paragraph">
<p>Converting a <code>Multi</code> into a <code>Single</code> returns a <code>Single&lt;Optional&lt;T&gt;&gt;,</code> as the <code>Multi</code> may complete without items.
You can also produce a <code>Single&lt;T&gt;</code> and emit a <em>failure</em> event if the <code>Multi</code> completes without items.
Configure the failure to be forwarded using <code>onEmptyThrow.</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also create a <code>Flowable</code> from a <code>Multi</code> using: <code>Flowable.fromPublisher(multi)</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="converting-a-uni-into-a-rx-java-type"><a class="anchor" href="#converting-a-uni-into-a-rx-java-type"></a>Converting a Uni into a RX Java type</h4>
<div class="paragraph">
<p>Similarly to the conversion from a <code>Multi</code> into an RX Type, converting a <code>Uni</code> requires a converter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Completable completable = uni.convert().with(UniRxConverters.toCompletable());

Single&lt;Optional&lt;String&gt;&gt; single = uni.convert().with(UniRxConverters.toSingle());

Single&lt;String&gt; single2 = uni.convert().with(UniRxConverters.toSingle().failOnNull());

Maybe&lt;String&gt; maybe = uni.convert().with(UniRxConverters.toMaybe());

Observable&lt;String&gt; observable = uni.convert().with(UniRxConverters.toObservable());

Flowable&lt;String&gt; flowable = uni.convert().with(UniRxConverters.toFlowable());</code></pre>
</div>
</div>
<div class="paragraph">
<p>The creation of a <code>Completable</code> from a <code>Uni</code> discards the item and sends the <em>completion</em> signal after emission.</p>
</div>
<div class="paragraph">
<p>Converting a <code>Uni</code> into a <code>Single</code> returns a <code>Single&lt;Optional&lt;T&gt;&gt;,</code> as the <code>Uni</code> may emit <code>null.</code>
You can also produce a <code>Single&lt;T&gt;</code> and emits a <em>failure</em> event if the <code>Uni</code> sends <code>null.</code>
Configures the failure to forward using <code>failOnNull.</code></p>
</div>
<div class="paragraph">
<p>The creation of a <code>Maybe,</code> <code>Flowable,</code> or an <code>Observable</code> from a <code>Uni</code> produces an empty <code>Maybe,</code> <code>Flowable,</code> or <code>Observable</code> if the <code>Uni</code> emits <code>null.</code>
For <code>Flowable</code> and <code>Observable,</code> if the <code>Uni</code> emits a <em>non-null</em> item, that item is emitted, followed immediately by the <em>completion</em> signal.</p>
</div>
</div>
</div>
</div>
</div>
        </div>
        <div class="col-md-3 col-md-offset-1 toc-container">
            <nav class="page-toc toc nav flex-column" id="toc">
                <ul class="sectlevel1">
<li><a href="#integrating-others-reactive-libraries">Integrating others reactive libraries</a>
<ul class="sectlevel2">
<li><a href="#picking-the-right-dependency">Picking the right dependency</a></li>
<li><a href="#integration-with-project-reactor">Integration with Project Reactor</a></li>
<li><a href="#integration-with-rx-java">Integration with RX Java</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>



<div class="footer-buttons gs ">
    <div class="container ">
        <div class="row ">
            <div class="col-12 ">
                
                <a href="/mutiny-doc-sandbox/getting-started/collecting-items " class="previous ">
                    <i class="fas fa-arrow-left "></i>&nbsp;Collecting items from Multi</a>
                 
                <a href="/mutiny-doc-sandbox/getting-started/reactive-to-imperative " class="next ">
    From reactive to imperative&nbsp;<i class="fas fa-arrow-right "></i></a> 
            </div>
        </div>

    </div>
</div>
            </div>

            <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 sep-right">
                <p>
                    SmallRye Mutiny is an open source project. All the code from this project is available under the Apache Software License 2.0.
                </p>
                <p>
                    This website was built with Jekyll, is hosted on Github Pages and is completely open source. If you want to make it better, fork the website and show us what you’ve got.
                </p>
            </div>
            <div class="col-lg-3">
                <p>
                     Site last generated: Nov 25, 2020
                </p>
            </div>
        </div>
    </div>
    <!-- Javascript-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.1/highlight.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/gumshoe@4/dist/gumshoe.polyfills.min.js"></script>
    <script src="/mutiny-doc-sandbox/assets/js/hl.js" type="text/javascript"></script>
    <script src="/mutiny-doc-sandbox/assets/js/scrollspy.js" type="text/javascript"></script>
</footer>
        </main>
    </div>
</body>

</html>